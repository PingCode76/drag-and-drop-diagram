version: '3.7'

# HOW TO USE  ? 
# docker-compose down
# docker-compose up -d # launch containers

#HELP 
# docker-compose up -d --build  #launch containers with pre-build
# docker-compose stop
services:

  # DATABSE configuration
  db:
    container_name: postgres
    image: postgres
    restart: always
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: 000000
    
  #VUECLI configuration
  vuecli:
    container_name: VuedragdropDiagram
    build: docker/Vue
      #context: .
      #dockerfile: Vue/Dockerfile
    volumes:
      - '.:/app'
      - '/app/node_modules'
    ports:
      - '8081:8080'

  # FLASK Configuration
  flask-web-api:
        build: docker/Flask
        ports:
            - "5000:5000"
        volumes:
            - .:/api
        #depends_on:
            #- redis
    #redis:
        #image: redis

#volumes:
  #db_data: